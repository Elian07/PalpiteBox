{"ast":null,"code":"import { GoogleSpreadsheet } from \"google-spreadsheet\";\nimport credentials from \"../../credentials.json\";\nconst doc = new GoogleSpreadsheet(\"1G_U7ODPp3tY22lO5fhURhxCtos6VAvQcGUJvRMsX1eE\");\nexport default (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[1];\n    const data = JSON.parse(req.body);\n    await sheet.addRow({\n      Nome: data.Nome,\n      Email: data.Email,\n      Whatsapp: data.Whatsapp,\n      Cupom: 'aaa111',\n      Promo: 'asdfasdf'\n    });\n    res.end(req.body);\n  } catch (err) {\n    console.log(err);\n    res.end('error');\n  }\n});","map":{"version":3,"sources":["/home/elian/Projeto-PalpiteBox/pages/api/save.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","sheet","sheetsByIndex","data","JSON","parse","body","addRow","Nome","Email","Whatsapp","Cupom","Promo","end","err","console","log"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,oBAAlC;AAEA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CACV,8CADU,CAAZ;AAIA,gBAAe,OAAMG,GAAN,EAAWC,GAAX,KAAmB;AAE9B,MAAG;AACH,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AAEA,UAAMC,KAAK,GAAGL,GAAG,CAACM,aAAJ,CAAkB,CAAlB,CAAd;AACA,UAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWR,GAAG,CAACS,IAAf,CAAb;AACA,UAAML,KAAK,CAACM,MAAN,CAAa;AACfC,MAAAA,IAAI,EAAEL,IAAI,CAACK,IADI;AAEfC,MAAAA,KAAK,EAAEN,IAAI,CAACM,KAFG;AAGfC,MAAAA,QAAQ,EAAEP,IAAI,CAACO,QAHA;AAIfC,MAAAA,KAAK,EAAE,QAJQ;AAKfC,MAAAA,KAAK,EAAE;AALQ,KAAb,CAAN;AAOAd,IAAAA,GAAG,CAACe,GAAJ,CAAQhB,GAAG,CAACS,IAAZ;AACC,GAdD,CAcC,OAAMQ,GAAN,EAAU;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAhB,IAAAA,GAAG,CAACe,GAAJ,CAAQ,OAAR;AACD;AACF,CApBH","sourcesContent":["import { GoogleSpreadsheet } from \"google-spreadsheet\";\n\nimport credentials from \"../../credentials.json\";\n\nconst doc = new GoogleSpreadsheet(\n  \"1G_U7ODPp3tY22lO5fhURhxCtos6VAvQcGUJvRMsX1eE\"\n);\n\nexport default async(req, res) => {\n    \n    try{\n    await doc.useServiceAccountAuth(credentials)\n    await doc.loadInfo()\n    \n    const sheet = doc.sheetsByIndex[1]\n    const data = JSON.parse(req.body)\n    await sheet.addRow({\n        Nome: data.Nome,\n        Email: data.Email,\n        Whatsapp: data.Whatsapp,\n        Cupom: 'aaa111',\n        Promo: 'asdfasdf'\n    })\n    res.end(req.body)\n    }catch(err){\n      console.log(err)\n      res.end('error')\n    }\n  }   \n\n"]},"metadata":{},"sourceType":"module"}